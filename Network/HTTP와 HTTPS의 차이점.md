## HTTP와 HTTPS의 차이점

### HTTP(HyperText Transfer Protocol)
- 목적: 웹 브라우저와 웹 서버 간 데이터 전송 규약
- 포트: 기본 80
- 상태: 무상태(stateless). 서버는 이전 요청의 상태를 보존하지 않는다.
  - 로그인 유지 등 상태가 필요하면 세션(서버 저장소 + 쿠키) 또는 토큰(JWT 등)으로 별도 관리가 필요하다.
- 연결: HTTP/1.0은 요청마다 TCP 연결을 맺고 끊어 오버헤드가 컸다.
  - HTTP/1.1은 지속 연결(keep-alive)로 같은 연결에서 여러 요청을 순차 처리해 지연과 리소스 낭비를 줄였다.

### HTTP의 보안 한계(왜 문제가 되는가)
- 기밀성 부재: 평문 전송이라 네트워크 구간에서 패킷을 훔쳐보면 내용이 그대로 노출된다.
- 무결성/인증 부재: 중간자(MITM)가 응답을 바꾸거나 가짜 서버로 위장해도 탐지/차단이 어렵다.
- 규제 이슈: 개인정보 전송 시 암호화 의무가 있어, 단순 HTTP는 법·정책 준수에 문제가 될 수 있다.

### HTTPS(Hypertext Transfer Protocol Secure)
- 정의: HTTP + SSL/TLS 보안 계층
- 포트: 기본 443
- 목표: 기밀성(암호화), 무결성(변조 방지), 인증(상대 신원 확인)
  - 서버는 공인 인증기관(CA)에서 발급받은 인증서로 자신의 신원을 증명한다.

### HTTPS가 해결하는 것(핵심 3원칙)
- 기밀성: 암호화로 도청 방지
- 무결성: 전송 중 데이터 변조 방지
- 인증: 인증서로 서버 신원 확인(CA 기반 체인 신뢰)

### SSL/TLS 핸드셰이크(내가 이해한 대로)

HTTPS는 비대칭키(공개키/개인키)와 대칭키(세션키)를 섞어 쓰는 하이브리드 방식.

- SSL 인증서 확인: '누가 나한테 말하는가?'
  클라이언트가 접속하려는 서버가 진짜인지 신원(아이덴티티)를 확인한다. 
  - 인증서 요청 및 공유: 브라우저가 https:// URL을 입력하여 서버에 접속을 시도하면, 서버는 응답으로 퍼블릭 키(공개키)가 포함된 SSL/TLS 인증서를 브라우저에 전송한다.
  - 신뢰성 검증: 브라우저는 서버의 SSL 인증서가 유효한지 검사하여 서버의 신원을 증명한다. HTTPS 웹 사이트는 독립된 인증 기관(CA)에서 이 인증서를 획득해야 한다.

- 세션 키 교환: 인증이 완료되면, 브라우저는 세션 키(대칭키)를 생성한다. 이 세션 키는 서버의 퍼블릭 키(공개키)로 암호화되어 서버로 전송된다. 이 단계에서 느리지만 안전한 비대칭키 암호화가 사용된다.

- 서버 복호화: 서버는 자신만이 소유한 프라이빗 키(개인키)로 암호화된 메시지를 해독하고 세션 키를 얻는다. (개인키는 서버만 갖고 있어서 여기서 보안이 보장됨)

- 본격적인 데이터 통신: 클라이언트와 서버 모두 동일한 세션 키를 공유하게 되며, 이후 데이터 전송은 빠르고 효율적인 대칭키 암호화를 사용해 안전하게 교환된다.

### 프로토콜과 전송 계층
- HTTP/1.x, HTTP/2: TCP 기반
- HTTP/3: QUIC(UDP 기반)

### 한눈에 비교
| 구분 | HTTP | HTTPS |
|---|---|---|
| 기본 포트 | 80 | 443 |
| 암호화 | 없음(평문) | SSL/TLS로 암호화 |
| 무결성/인증 | 없음 | 제공(변조 방지/서버 신원 검증) |
| 사용 예 | 공개 정보, 내부망 테스트 | 로그인/결제/개인정보 처리 전반 |

### 정리
- 차이의 본질은 “보안 계층의 유무”. HTTPS는 HTTP의 기능에 SSL/TLS를 더해 안전한 전송을 보장한다.

---

## 부록: Well-known Ports

| 포트 | 프로토콜 | 서비스 | 설명 |
|---|---|---|---|
| 21 | TCP | FTP | 파일 전송(제어 연결) |
| 22 | TCP/UDP | SSH | 암호화된 원격 접속/파일 전송 |
| 23 | TCP | Telnet | 평문 원격 접속(보안 취약, SSH로 대체) |
| 25 | TCP | SMTP | 메일 발송 |
| 53 | TCP/UDP | DNS | 도메인 이름을 IP로 해석 |
| 80 | TCP | HTTP | 웹 통신 기본 포트 |
| 443 | TCP | HTTPS | SSL/TLS 기반 암호화 웹 통신 |