# 백엔드 개발을 위해 꼭 알아야 할 전체 구성
[영상 링크](https://youtube.com/watch?v=M8E6vYAIuzQ&si=0JGhTHeMSmUPK46)

영규님 추천으로 시청. 보면서 가장 핵심이라고 느낀 부분은 **WAS와 웹 서버의 차이**.

---

## 핵심 요약
- **웹 서버(Web Server)**: 정적 콘텐츠를 그대로 반환한다. 예: `index.html`, 이미지, CSS, JS 등.
- **WAS(Web Application Server)**: 요청마다 비즈니스 로직을 실행하고 결과를 **동적으로** 만들어 반환한다. 예: DB 조회 후 JSON/HTML 생성.

---

## 웹 서버와 WAS의 역할 비교

| 구분 | 웹 서버 (Web Server) | WAS (Web Application Server) |
|---|---|---|
| 주요 역할 | 정적 파일 제공 | 비즈니스 로직 실행 및 동적 응답 생성 |
| 예시 리소스 | HTML, CSS, JS, 이미지 | JSON API, 서버 렌더링된 HTML |
| 대표 소프트웨어 | Nginx, Apache | Tomcat, JBoss, WebLogic, (내장: Spring Boot) |
| 연동 방식 | 클라이언트의 요청을 프록시/로드밸런싱해 WAS로 전달 가능 | 웹 서버 뒤에서 동적 요청 처리 |

---

## 요청 처리 흐름(전형적인 구성)
1. 사용자가 브라우저에서 도메인에 접속
2. DNS가 도메인을 IP로 변환
3. **웹 서버**(Nginx/Apache)가 요청 수신
   - 정적 파일이면 즉시 반환
   - 동적 요청이면 **WAS**로 전달(프록시/업스트림)
4. **WAS**가 비즈니스 로직 실행(예: DB 조회, 외부 API 호출)
5. 결과를 JSON/서버 렌더링된 HTML 등으로 만들어 응답
6. 웹 서버가 최종 응답을 사용자에게 전달(필요 시 캐싱/압축)

---

## DNS와 `index.html`: 내가 헷갈렸던 지점과 정리
- 왜 헷갈렸나: DNS 캐싱을 배우면서 “요청이 오면 캐시된 걸로 바로 반환한다”는 설명을 듣고, 이 “반환”이 마치 `index.html` 같은 정적 파일을 돌려주는 것과 같은 단계라고 오해했다.
- 혼동의 지점: DNS가 반환하는 대상이 무엇인지(= IP 주소)와 웹 서버가 반환하는 대상이 무엇인지(= 정적 파일)가 서로 다른데, 두 단계를 한 흐름으로 섞어 생각했다.
- 어떻게 이해가 정리됐나:
  1) DNS 단계: 브라우저/OS/리졸버/네임서버는 도메인 → IP를 매핑하고, 이 IP 정보를 캐싱할 수 있다.
  2) 연결 단계: 이 IP로 TCP/HTTP 연결을 맺어 실제 서버(보통 앞단의 웹 서버)에 요청을 보낸다.
  3) 응답 단계: 웹 서버는 정적이면 `index.html` 등 파일을 바로 주고, 동적이면 WAS로 전달해 결과(HTML/JSON)를 받아서 돌려준다.
  → 정리: DNS의 “캐싱/반환”은 IP 주소에 대한 이야기이고, `index.html`은 서버가 응답하는 정적 콘텐츠다. 서로 단계와 대상이 다르다.

---

## 한 줄 요약
- 웹 서버는 “정적을 빠르게”, WAS는 “동적을 정확하게”. 둘을 조합해 성능과 유연성을 동시에 확보한다.